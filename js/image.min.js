function base64ToArrayBuffer(d){d=d.replace(/^data\:([^\;]+)\;base64,/gmi,"");var b=atob(d);var a=b.length;var c=new Uint8Array(a);for(var e=0;e<a;e++){c[e]=b.charCodeAt(e)}return c.buffer}function exifRotateImg(a,f,c){var d=$(a).height();var b=$(a).width();switch(f){case 8:var e=-90;$(a).css("transform-origin","0 0");$(a).css("transform","rotate("+e+"deg)");$(a).css("margin-left","100%");$(c).css("width",b+"px");$(c).css("height",b+"px");break;case 3:var e=180;$(a).css("transform-origin","0 0");$(a).css("transform","rotate("+e+"deg)");break;case 6:var e=90;$(a).css("transform-origin","0 0");$(a).css("margin-left","100%");$(a).css("transform","rotate("+e+"deg)");$(c).css("width",b+"px");$(c).css("height",b+"px");break}};